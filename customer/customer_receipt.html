<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
	/*Create a table to store elements in receipt*/
	table {
		border-collapse: collapse;
		border-spacing: 0;
		width: 100%;
		border: 1px solid #ddd;
	}
	
	th, td {
		text-align: left;
		padding: 16px;
	}
	
	tr:nth-child(even) {
		background-color: #f2f2f2;
	}


	.receiptTotals {
		background-color: none;
		text-align: right;
	}
	
	.content {
		width: 100%;
		height: 90%;
	}

	#row {
		display: none;
	}

</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
	window.addEventListener('message', addReceipt, false);
	function addReceipt(message){
		var clone = $("#row").clone(true);
		clone.css('display','block'); 
		
		
		//Add an ajax request to items using _id.$oid
		var queryStr = window.location.search;
		var category = queryStr.substr(1)
		var url = "http://159.89.238.181:8080/api/items?id=".concat();
		$.ajax({
			url: url,
			type: 'get',
			dataType: 'JSON',
			success: function(response) {
				response.name;
				response.price;
				clone.children("#item").html(response.name);
				clone.children("#price").html(response.price);
			}
		}); 
		clone.appendTo('#receipt');	
	}
</script>
</head>
<body style="background-color:white">
  <div class = "content">
	<!--Creating a table to store purchase information-->
  </div>
	<table id="receipt">
		<tr id="header">
			<td >Item</td>
			<td >Price</td>
		</tr>
		<tr id="row">
			<td id="item">some text</td>
			<td id="price">some price</td>
		</tr>
	</table>

	<table id="total">
		<tr>
			<th></th>
			<th></th>
			<th>SUBTOTAL  $</th>
		</tr>
		<tr>
			<th></th>
			<th></th>
			<th>TAX  $</th>
		</tr>
		<tr>
			<th></th>
			<th></th>
			<th>GRATUITY  $</th>
		</tr>
		<tr>
			<th></th>
			<th></th>
			<th>TOTAL DUE  $</th>
		</tr>
	</table>

</body>
</html>

