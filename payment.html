<!DOCTYPE html>
<html>
<style>
	* {
		box-sizing: border-box;
	}

	body {
		background-color: black;
		margin: 0;
	}
	
	/*Created a header container to hold buttons at the top*/
	.header {
		padding: 10px;
		<!-- background-color: blue; -->
		margin: 0px 0px 0px;
	}
	
	/*Button group for creating the buttons at top of page*/
	/*Same button group from the main page*/
	.button-group button {
		background-color: #D3D3D3; /*Makes Gray background*/
		border:  0px #D3D3D3;  /*Border around boxes is Gray*/
		color: black; /* White text */
		padding: 10px 10px; /* Some padding */
		margin: 0;  /* Created space between buttons */
		font-family: Arial Black, Times, serif; /* sets font */
		font-size:  16px;	/* Sets size */
		font-weight:  normal;	/*Sets normal or bold */
		text-align: center;	/* Aligns to center of button */
		cursor: pointer; /* Pointer/hand icon */
		width: 15%; /* Set a width if needed */
		display: inline-block;
	}

	.button-group button:not(:last-child) {
		border-right: none; /* Prevent double borders */
	}

	/* Add a background color on hover */
	.button-group button:hover {
		background-color: #3e8e41;
	}
	
	.column-left {
		background-color: #A9A9A9 !important; //makes Gray background
		padding: 1%;
		margin: 1%;
		width: 50%;
		height: 95%;
		left: .5%;
		display: inline-block;
		text-align:;
		position: absolute;
	}
	
	.column-right {
		background-color: #A9A9A9 !important; //makes Gray background
		padding: 1%;
		margin: 1%;
		width: 35%;
		height: 95%;
		right: .5%;
		display: inline-block;
		text-align: center;
		position: absolute;
	}
	
	.row:after {
		content: "";
		display: table;
		clear: both;
	}
	
	/*Adding to left container*/
	/*Add buttons to the left container*/
	.button-group2 button {
		background-color: black; /*Makes Gray background*/
		border:  1% #D3D3D3;  /*Border around boxes is Gray*/
		color: white; /* White text */
		padding: 20px 50px; /* Some padding */
		margin: 25px;  /* Created space between buttons */
		margin-left: 15%;
		font-family: Arial Black, Times, serif; /* sets font */
		font-size:  20px;	/* Sets size */
		font-weight:  normal;	/*Sets normal or bold */
		text-align: center;	/* Aligns to center of button */
		cursor: pointer; /* Pointer/hand icon */
		width: 65%; /* Set a width if needed */
		display: block;
	}

	.button-group2 button:not(:last-child) {
		border-right: none; /* Prevent double borders */
	}

	/* Add a background color on hover */
	.button-group2 button:focus {
		background-color: green;
	}
	
	.rewards-button button {
		background-color: black; /*Makes Gray background*/
		border:  1% #D3D3D3;  /*Border around boxes is Gray*/
		color: white; /* White text */
		padding: 20px 10px; /* Some padding */
		margin-left: 13%;  /* Created space between buttons */
		font-family: Arial Black, Times, serif; /* sets font */
		font-size:  12px;	/* Sets size */
		font-weight:  normal;	/*Sets normal or bold */
		text-align: center;	/* Aligns to center of button */
		cursor: pointer; /* Pointer/hand icon */
		width: 30%; /* Set a width if needed */
		display: inline-block;
	}

	.rewards-button button:not(:last-child) {
		border-right: none; /* Prevent double borders */
	}

	/* Add a background color on hover */
	.rewards-button button:focus {
		background-color: green;
	}
	

	/*Create an input for tips*/
	input {
		margin: 10px 60px;
		width: 150px;
	}

	label {
		margin: 0px 0px 0px;
	}
	
	h2 {
		margin: 30px;
		text-align: center;
	}
	
	@media screen and (max-width: 600px){
		.column {
			width: 100%;
		}
	}
	
	.slidecontainer {
		float: left;
		width: 100%;
		background-color: none;
		margin: 0 auto;
		right: 0%;
		text-indent: 10%;
	}

	.slider {
		-webkit-appearance: none;
		width: 50%;
		height: 25px;
		background: #d3d3d3;
		position: absolute;
		left: 15%;
		outline: none;
		opacity: 1;
		-webkit-transition: .2s;
		transition: opacity .2s;
	}

	.slider:hover {
		opacity: 1;
	}

	.slider::-webkit-slider-thumb {
		-webkit-appearance: none;
		appearance: none;
		width: 25px;
		height: 25px;
		background: #4CAF50;
		cursor: pointer;
	}

	.slider::-moz-range-thumb {
		width: 25px;
		height: 25px;
		background: #4CAF50;
		cursor: pointer;
	}
	
	.addRewards {
		
	}
	
</style>

<head>
	<link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet'>
    <!--changed to https://... below to remove error-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
	function setup() {
		var toggle = {
			type: "show"
		};
		parent.window.postMessage(toggle, "*");
	}
	
	function goRewards() {
		var message = {
			type: "rewards"
		}
		parent.window.postMessage(message, "*");
	}

	function updateReceipt(item){
		console.log("Updating receipt");
		console.log(JSON.stringify(item));
		var target = document.getElementById("receipt_screen");
		target.contentWindow.postMessage(item, '*');
	}
	
	function payButton(){
	
	}
	
	$(document).ready(function() {
		var queryStr = window.location.search;
		var category = queryStr.substr(1)
		var url = "http://159.89.238.181:8080/api/orders?".concat(category);
		$.ajax({
			url: url,
			type: 'get',
			dataType: 'JSON',
			success: function(response) {
				response.forEach(item => 
					updateReceipt(item)
				);
			}
		});
	});
	
	
</script>
</head>

<body onload="setup()">
<div class="row">
	<div class="column-left">
		<h2>PAYMENT METHOD</h2>
		
		<div class="button-group2">
			<button onclick="">CARD</button>
			<button onclick="">CASH</button>
			<button onclick="">SPLIT</button>
		</div>
		
		<h2> TIP AMOUNT </h2>			
		<div class="slidecontainer">
			<input type="range" min="0" max="30" value="15" class="slider" id="myRange">
			<p>Tip: <span id="demo"></span>&#37;</p>
			
			<!--Script for slide bar needs to remain here otherwise the number for percentage doesn't display-->
			<script>		
				var slider = document.getElementById("myRange");
				var output = document.getElementById("demo");
				output.innerHTML = slider.value;
		
				slider.oninput = function() {
					output.innerHTML = this.value;
				}
			</script>
	
		</div>
		
		<!--Rewards Option-->
		<h2>REWARDS</h2>
		<div class="addRewards">
			<div class="rewards-button">
				<button onclick="goRewards()">SIGN UP</button>
				<button onclick="">CURRENT MEMBER</button>
			</div>
		</div>
		
	</div>
	
	<div class="column-right">
		<h2>RECEIPT</h2>
		
		<!--Insert an iframe for the receipt-->
		<iframe id="receipt_screen" src="customer/customer_receipt.html" style="width:95%; height:80%" ></iframe>
	</div>
</div>
</body>
</html>
